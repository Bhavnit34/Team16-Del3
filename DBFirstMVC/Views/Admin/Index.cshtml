@model IEnumerable<DBFirstMVC.Request>

@{

Layout = "~/Views/Shared/adminView.cshtml";

}

@{

Layout = "~/Views/Shared/adminView.cshtml";

}
@{
    ViewBag.Title = "Admin - Index";
    ViewBag.CurrentUserTitle = @ViewBag.CurrentUser;
}

<h2>Central Admin All Requests</h2>


<table>
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.UserID)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Module.Title)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.SessionType)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.SessionLength)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.DayID)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.PeriodID)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.PriorityRequest)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.AdhocRequest)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.SpecialRequirements)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Semester)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Week.WeekID)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.RoundID)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Status)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    var statusClass="";

    if (item.Status == 1.ToString())
    {
        statusClass = "approved";

    }

    else if (item.Status == 2.ToString())
    {
        statusClass = "rejected";



    }

    else
    {
        statusClass = "pending";

    }

    <tr class ="@statusClass">
        <td>
            @Html.DisplayFor(modelItem => item.UserID)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Module.Title)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.SessionType)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.SessionLength)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.DayID)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.PeriodID)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.PriorityRequest)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.AdhocRequest)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.SpecialRequirements)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Semester)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Week.WeekID)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.RoundID)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Status)
        </td>
        <td>
          
          @Html.ActionLink("Get Request", "GetRequest", new { id=item.RequestID})
           
        </td>
    </tr>
}

</table>
<style type="text/css">

    .approved {
        background-color:green;
    }
    .rejected {
        background-color:red;
    }
    .pending {
        background-color:grey;
    }
</style>